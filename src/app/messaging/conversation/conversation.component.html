<!-- 
	Real time private chatting app using Angular 2, Nodejs, mongodb and Socket.io
	@author Shashank Tiwari
 -->
 <div *ngIf='messageLoading' class="message-overlay">
	<h3> {{selectedUser !== null && selectedUser.firstName ? 'Loading Messages' : ' Select a User to chat.' }}</h3>
</div>
<div class="massege-wrapper">
	<div class="massege-container">
		<div class="opposite-user" *ngIf="selectedUser !== null && selectedUser.firstName">
			<p>{{selectedUser.firstName +' '+selectedUser.lastName}}</p>
			<p class="commentMessenger">Actif sur Speegar</p>
		</div>
 
		<ul class="message-thread">
			<li *ngFor="let message of messages" [class.self-message]="alignMessage(message.toUserId)">
				<img *ngIf="alignMessage(message.toUserId) == false" src="{{selectedUser.profilePicture}}" class="profilePicture img-circle" />
				<p class="messageContent">
					{{message.message}}
				</p>
			</li>
		</ul>
	</div>
	<!-- 
	Real time private chatting app using Angular 2, Nodejs, mongodb and Socket.io
	@author Shashank Tiwari
 -->
<div class="message-typer">
	<form [formGroup]="messageForm" novalidate>
		<textarea class="form-control message" 
			placeholder="Type and hit Enter" 
			(keyup)="sendMessage($event)" 
			formControlName="message">
		</textarea>
	</form>
</div>
</div>